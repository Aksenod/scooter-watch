# ScooterWatch - Feature-Based Architecture

## Структура фич

Каждая фича является независимым модулем с собственными компонентами, хуками, типами и логикой.

## Список фич

### 1. **auth** - Аутентификация
- OTP авторизация
- Управление сессией
- Хранение токенов

### 2. **reports** - Отчёты о нарушениях
- Создание отчётов
- Просмотр истории
- Детальная информация о кейсе
- Статусы отчётов

### 3. **recording** - Запись доказательств
- Захват фото/видео
- Превью медиа
- Загрузка файлов

### 4. **classification** - AI классификация
- Анализ нарушений
- Определение типа
- Оценка уверенности

### 5. **wallet** - Кошелёк и награды
- Баланс пользователя
- История наград
- Вывод средств
- Статистика

### 6. **landing** - Главная страница
- Маркетинговая информация
- Статистика платформы
- Call-to-action

## Структура каждой фичи

```
features/
└── feature-name/
    ├── api/              # API маршруты и клиенты
    ├── components/       # UI компоненты фичи
    ├── hooks/           # React хуки
    ├── types/           # TypeScript типы
    ├── utils/           # Утилиты и хелперы
    ├── constants.ts     # Константы фичи
    ├── config.ts        # Конфигурация
    └── index.ts         # Public API (barrel export)
```

## Shared модули

```
shared/
├── ui/              # Переиспользуемые UI компоненты
├── lib/             # Общие утилиты
├── types/           # Общие типы
├── hooks/           # Общие хуки
└── constants/       # Глобальные константы
```

## Правила работы с фичами

### ✅ DO:
- Каждая фича экспортирует только через `index.ts`
- Фичи не импортируют друг друга напрямую (только через shared)
- Специфичный код живёт внутри фичи
- Общий код выносится в `shared/`

### ❌ DON'T:
- Не импортировать внутренние файлы других фич
- Не создавать циклические зависимости
- Не дублировать логику между фичами

## Примеры импортов

```typescript
// ✅ Правильно
import { useAuth } from '@/features/auth'
import { ReportCard } from '@/features/reports'
import { Button } from '@/shared/ui'

// ❌ Неправильно
import { useAuth } from '@/features/auth/hooks/useAuth'
import { ReportCard } from '@/features/reports/components/ReportCard'
```

## Миграция существующего кода

1. Создать структуру `features/` и `shared/`
2. Переместить код в соответствующие фичи
3. Настроить barrel exports
4. Обновить импорты в приложении
5. Удалить старые директории
